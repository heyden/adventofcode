package main

import (
	"testing"
)

var (
	input = []string{
		"..##.........##.........##.........##.........##.........##.......",
		"#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..",
		".#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.",
		"..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#",
		".#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.",
		"..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....",
		".#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#",
		".#........#.#........#.#........#.#........#.#........#.#........#",
		"#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...",
		"#...##....##...##....##...##....##...##....##...##....##...##....#",
		".#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#",
	}
)

func TestPart1(t *testing.T) {
	// transform input
	matrix := buildMatrix(input)

	expected := 7
	actual := part1(matrix, 3, 1)
	if actual != expected {
		t.Errorf("actual [%v] != expected [%v]", actual, expected)
	}
}

func TestPart2(t *testing.T) {
	slopes := [][]int{
		{1, 1},
		{3, 1},
		{5, 1},
		{7, 1},
		{1, 2},
	}

	// transform input
	matrix := buildMatrix(input)

	expected := 336
	actual := part2(matrix, slopes)
	if actual != expected {
		t.Errorf("actual [%v] != expected [%v]", actual, expected)
	}
}
